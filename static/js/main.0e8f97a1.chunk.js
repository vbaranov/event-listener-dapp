(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){},168:function(e,t){},170:function(e,t){},190:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),c=n(47),i=n.n(c),r=(n(103),n(48)),s=n.n(r),u=n(92),l=n(93),d=n(96),m=n(94),b=n(97),w=n(95),p=n.n(w),h=n(49),f=n.n(h),v=(n(190),n(50)),E=n.n(v),g=n(51),y=(n(203),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).render=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("h2",{style:{position:"absolute",top:"100px",padding:"0 20%"}},"This simple DApp executes smart-contract method which emits an event, and DApp subscribes to this event and shows a toast with event param.",o.a.createElement("h4",null,o.a.createElement("i",null,"Note:")," Smart-contracts have been deployed to POA core and Sokol networks.")),o.a.createElement(p.a,{onClick:function(){return n.executeContract()},disabled:n.state.isLoading||n.state.isRejected||77!==n.state.networkID&&99!==n.state.networkID},"Execute Contract"),n.renderLoader(),o.a.createElement(g.ToastContainer,null)))},n.renderLoader=function(){return n.state.isLoading?o.a.createElement("div",null,o.a.createElement("label",{className:"small"},"waiting for event...")):null},n.componentWillMount=function(){window.ethereum?n._getWeb3():window.web3&&(n.web3=new f.a(window.web3.currentProvider),n._subscribeToEvent())},n.executeContract=function(){n.setState({isLoading:!0});var e=n.EventEmitterContractInstance.emitEvent,t=n._getRandomInt(0,1e3);e.sendTransaction(t,{from:n.web3.eth.accounts[0]},function(e,t){e&&(console.log(e),n.setState({isLoading:!1})),t&&console.log("txHash: ".concat(t))})},n.notify=function(e){return Object(g.toast)(e)},n._getWeb3=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.web3=new f.a(window.ethereum),e.prev=1,e.next=4,window.ethereum.enable();case 4:n._subscribeToEvent(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n.setState({isRejected:!0});case 10:case"end":return e.stop()}},e,this,[[1,7]])})),n._subscribeToEvent=function(){var e=n.web3.eth.contract(E.a.contract.abi),t=n.web3.version.network;n.EventEmitterContractInstance=e.at(E.a.contract.addresses[t]);var a=n.EventEmitterContractInstance.FunctionCalled(),o=n.EventEmitterContractInstance.FunctionCalled2();n.setState({networkID:Number(t)}),a.watch(function(e,t){n.setState({isLoading:!1}),e?console.log(e):(console.log(t),n.notify("Event has been successfully emitted with id ".concat(t.args._id," !")))}),o.watch(function(e,t){n.setState({isLoading:!1}),e?console.log(e):(console.log(t),n.notify("The second event has been successfully emitted with id ".concat(t.args._id," !")))})},n._getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e))+e},n.web3=null,n.EventEmitterContractInstance=null,n.state={isLoading:!1},n}return Object(b.a)(t,e),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,t){e.exports={contract:{addresses:{77:"0x04b7bb4c13479ef42292de07a0046ebe2931b98b",99:"0x5ea64d75a6cd9f89cb524feb8f432b22afa31d3d"},abi:[{constant:!1,inputs:[{name:"_id",type:"uint256"}],name:"emitEvent",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_id",type:"uint256"}],name:"FunctionCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_id",type:"uint256"}],name:"FunctionCalled2",type:"event"}]}}},98:function(e,t,n){e.exports=n(248)}},[[98,2,1]]]);
//# sourceMappingURL=main.0e8f97a1.chunk.js.map